<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>A data structure for tidy graph manipulation — as_tbl_graph.data.frame • tidygraph</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="A data structure for tidy graph manipulation — as_tbl_graph.data.frame"><meta property="og:description" content="The tbl_graph class is a thin wrapper around an igraph object that
provides methods for manipulating the graph using the tidy API. As it is just
a subclass of igraph every igraph method will work as expected. A
grouped_tbl_graph is the equivalent of a grouped_df where either the
nodes or the edges has been grouped. The grouped_tbl_graph is not
constructed directly but by using the group_by() verb. After creation of a
tbl_graph the nodes are activated by default. The context can be changed
using the activate() verb and affects all subsequent operations. Changing
context automatically drops any grouping. The current active context can
always be extracted with as_tibble(), which drops the graph structure and
just returns a tbl_df or a grouped_df depending on the state of the
tbl_graph. The returned context can be overriden by using the active
argument in as_tibble()."><meta property="og:image" content="https://tidygraph.data-imaginist.com/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidygraph</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://www.data-imaginist.com/2023/a-new-focus-on-tidygraph/" class="external-link">Version 1.3.0</a>
    </li>
    <li>
      <a href="https://www.data-imaginist.com/2018/tidygraph-1-1-a-tidy-hope/" class="external-link">Version 1.1.0</a>
    </li>
    <li>
      <a href="https://www.data-imaginist.com/2017/introducing-tidygraph/" class="external-link">Version 1.0.0</a>
    </li>
    <li class="divider">
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://ggraph.data-imaginist.com" class="external-link">ggraph</a>
</li>
<li>
  <a href="https://github.com/thomasp85/tidygraph" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>A data structure for tidy graph manipulation</h1>
    <small class="dont-index">Source: <a href="https://github.com/thomasp85/tidygraph/blob/HEAD/R/data_frame.R" class="external-link"><code>R/data_frame.R</code></a>, <a href="https://github.com/thomasp85/tidygraph/blob/HEAD/R/data_tree.R" class="external-link"><code>R/data_tree.R</code></a>, <a href="https://github.com/thomasp85/tidygraph/blob/HEAD/R/dendrogram.R" class="external-link"><code>R/dendrogram.R</code></a>, and 8 more</small>
    <div class="hidden name"><code>tbl_graph.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>tbl_graph</code> class is a thin wrapper around an <code>igraph</code> object that
provides methods for manipulating the graph using the tidy API. As it is just
a subclass of <code>igraph</code> every igraph method will work as expected. A
<code>grouped_tbl_graph</code> is the equivalent of a <code>grouped_df</code> where either the
nodes or the edges has been grouped. The <code>grouped_tbl_graph</code> is not
constructed directly but by using the <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by()</a></code> verb. After creation of a
<code>tbl_graph</code> the nodes are activated by default. The context can be changed
using the <code><a href="activate.html">activate()</a></code> verb and affects all subsequent operations. Changing
context automatically drops any grouping. The current active context can
always be extracted with <code><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble()</a></code>, which drops the graph structure and
just returns a <code>tbl_df</code> or a <code>grouped_df</code> depending on the state of the
<code>tbl_graph</code>. The returned context can be overriden by using the <code>active</code>
argument in <code><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble()</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for data.frame</span></span>
<span><span class="fu">as_tbl_graph</span><span class="op">(</span><span class="va">x</span>, directed <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for Node</span></span>
<span><span class="fu">as_tbl_graph</span><span class="op">(</span><span class="va">x</span>, directed <span class="op">=</span> <span class="cn">TRUE</span>, mode <span class="op">=</span> <span class="st">"out"</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for dendrogram</span></span>
<span><span class="fu">as_tbl_graph</span><span class="op">(</span><span class="va">x</span>, directed <span class="op">=</span> <span class="cn">TRUE</span>, mode <span class="op">=</span> <span class="st">"out"</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for graphNEL</span></span>
<span><span class="fu">as_tbl_graph</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for graphAM</span></span>
<span><span class="fu">as_tbl_graph</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for graphBAM</span></span>
<span><span class="fu">as_tbl_graph</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for hclust</span></span>
<span><span class="fu">as_tbl_graph</span><span class="op">(</span><span class="va">x</span>, directed <span class="op">=</span> <span class="cn">TRUE</span>, mode <span class="op">=</span> <span class="st">"out"</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for igraph</span></span>
<span><span class="fu">as_tbl_graph</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for list</span></span>
<span><span class="fu">as_tbl_graph</span><span class="op">(</span><span class="va">x</span>, directed <span class="op">=</span> <span class="cn">TRUE</span>, node_key <span class="op">=</span> <span class="st">"name"</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for matrix</span></span>
<span><span class="fu">as_tbl_graph</span><span class="op">(</span><span class="va">x</span>, directed <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for network</span></span>
<span><span class="fu">as_tbl_graph</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for phylo</span></span>
<span><span class="fu">as_tbl_graph</span><span class="op">(</span><span class="va">x</span>, directed <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for evonet</span></span>
<span><span class="fu">as_tbl_graph</span><span class="op">(</span><span class="va">x</span>, directed <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tbl_graph</span><span class="op">(</span>nodes <span class="op">=</span> <span class="cn">NULL</span>, edges <span class="op">=</span> <span class="cn">NULL</span>, directed <span class="op">=</span> <span class="cn">TRUE</span>, node_key <span class="op">=</span> <span class="st">"name"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">as_tbl_graph</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for default</span></span>
<span><span class="fu">as_tbl_graph</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">is.tbl_graph</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>An object convertible to a <code>tbl_graph</code></p></dd>


<dt>directed</dt>
<dd><p>Should the constructed graph be directed (defaults to <code>TRUE</code>)</p></dd>


<dt>...</dt>
<dd><p>Arguments passed on to the conversion function</p></dd>


<dt>mode</dt>
<dd><p>In case <code>directed = TRUE</code> should the edge direction be away from
node or towards. Possible values are <code>"out"</code> (default) or <code>"in"</code>.</p></dd>


<dt>node_key</dt>
<dd><p>The name of the column in <code>nodes</code> that character represented
<code>to</code> and <code>from</code> columns should be matched against. If <code>NA</code> the first column
is always chosen. This setting has no effect if <code>to</code> and <code>from</code> are given as
integers.</p></dd>


<dt>nodes</dt>
<dd><p>A <code>data.frame</code> containing information about the nodes in the
graph. If <code>edges$to</code> and/or <code>edges$from</code> are characters then they will be
matched to the column named according to <code>node_key</code> in nodes, if it exists.
If not, they will be matched to the first column.</p></dd>


<dt>edges</dt>
<dd><p>A <code>data.frame</code> containing information about the edges in the
graph. The terminal nodes of each edge must either be encoded in a <code>to</code> and
<code>from</code> column, or in the two first columns, as integers. These integers refer to
<code>nodes</code> index.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A <code>tbl_graph</code> object</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Constructors are provided for most data structures that resembles networks.
If a class provides an <code><a href="https://r.igraph.org/reference/as.igraph.html" class="external-link">igraph::as.igraph()</a></code> method it is automatically
supported.</p>
    </div>
    <div id="functions">
    <h2>Functions</h2>
    
<ul><li><p><code>as_tbl_graph(data.frame)</code>: Method for edge table and set membership table</p></li>
<li><p><code>as_tbl_graph(Node)</code>: Method to deal with Node objects from the data.tree package</p></li>
<li><p><code>as_tbl_graph(dendrogram)</code>: Method for dendrogram objects</p></li>
<li><p><code>as_tbl_graph(graphNEL)</code>: Method for handling graphNEL objects from the graph package (on Bioconductor)</p></li>
<li><p><code>as_tbl_graph(graphAM)</code>: Method for handling graphAM objects from the graph package (on Bioconductor)</p></li>
<li><p><code>as_tbl_graph(graphBAM)</code>: Method for handling graphBAM objects from the graph package (on Bioconductor)</p></li>
<li><p><code>as_tbl_graph(hclust)</code>: Method for hclust objects</p></li>
<li><p><code>as_tbl_graph(igraph)</code>: Method for igraph object. Simply subclasses the object into a <code>tbl_graph</code></p></li>
<li><p><code>as_tbl_graph(list)</code>: Method for adjacency lists and lists of node and edge tables</p></li>
<li><p><code>as_tbl_graph(matrix)</code>: Method for edgelist, adjacency and incidence matrices</p></li>
<li><p><code>as_tbl_graph(network)</code>: Method to handle network objects from the <code>network</code>
package. Requires this packages to work.</p></li>
<li><p><code>as_tbl_graph(phylo)</code>: Method for handling phylo objects from the ape package</p></li>
<li><p><code>as_tbl_graph(evonet)</code>: Method for handling evonet objects from the ape package</p></li>
<li><p><code>as_tbl_graph(default)</code>: Default method. tries to call <code><a href="https://r.igraph.org/reference/as.igraph.html" class="external-link">igraph::as.igraph()</a></code> on the input.</p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">rstat_nodes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Hadley"</span>, <span class="st">"David"</span>, <span class="st">"Romain"</span>, <span class="st">"Julia"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rstat_edges</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                            to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">tbl_graph</span><span class="op">(</span>nodes <span class="op">=</span> <span class="va">rstat_nodes</span>, edges <span class="op">=</span> <span class="va">rstat_edges</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tbl_graph: 4 nodes and 9 edges</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A directed simple graph with 1 component</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># Node Data: 4 × 1 (active)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> Hadley</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> David </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> Romain</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> Julia </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># Edge Data: 9 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    from    to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     1     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     1     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>     1     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 6 more rows</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://data-imaginist.com" class="external-link">Thomas Lin Pedersen</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

